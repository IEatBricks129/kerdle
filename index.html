<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kerdlyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy</title>
    <link rel="icon" type="image/x-icon" href="media/images/berdly.jpg">
    <meta property="og:title" content="kerdly">
    <meta property="og:description" content="Absolute Kerdly Jockey">
    <style>
        body {
            background: #000;
            margin: 0;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            background-size: contain !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
            position: relative;
            z-index: 0;
        }
        #wingdings {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ec0707;
            font-family: 'Wingdings', sans-serif;
            text-align: center;
            z-index: 1;
            user-select: none;
            display: none; 
        }
        .spinning-berdly-bg {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 80vw;
            height: 80vh;
            transform: translate(-50%, -50%);
            z-index: -1;
            pointer-events: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .spinning-berdly-bg img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            animation: spin-berdly 8s linear infinite;
        }
        @keyframes spin-berdly {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .top-text {
            position: absolute;
            top: 16px;
            left: 20px;
            color: #fff;
            font-size: 2rem;
            font-family: Arial, sans-serif;
            z-index: 2;
            user-select: none;
            text-shadow:
                -2px -2px 0 #000,
                2px -2px 0 #000,
                -2px 2px 0 #000,
                2px 2px 0 #000,
                0px 2px 0 #000,
                2px 0px 0 #000,
                0px -2px 0 #000,
                -2px 0px 0 #000;
        }
        .center-img {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 32px #000a;
            max-width: 100vw;
            max-height: 100vh;
            width: auto;
            height: auto;
            object-fit: contain;
            background: #222;
            display: block;
        }
        .falling-feather, .rising-heart {
            position: fixed;
            pointer-events: none;
            z-index: 10;
            max-width: 10vw;
            max-height: 10vh;
            width: auto !important;
            height: auto !important;
            object-fit: contain;
        }
    </style>
</head>
<body>
    <div id="wingdings">
        <h1>KERDLEY IS CANON</h1>
    </div>
    <div class="spinning-berdly-bg">
        <img src="media/images/berdly.jpg" alt="Spinning Berdly">
    </div>
    <div class="top-text">on everyones soul kerdly is canon</div>
    <a href="discord.gg/utdr" target="_blank">
        <img src="media/images/kerdly-kris.gif" alt="KERDLY SWEEP" class="center-img">
    </a>
    <audio id="berdly-audio" src="media/audio/berdly.flac" autoplay loop hidden></audio>
    <script>
    window.addEventListener('DOMContentLoaded', function() {
        const audio = document.getElementById('berdly-audio');
        if (audio) {
            const playAudio = () => {
                audio.play().catch(() => {});
            };
            playAudio();
            window.addEventListener('pointerdown', playAudio, { once: true });
            window.addEventListener('keydown', playAudio, { once: true });
        }
    });

    let timeoutId;
    function Gaster() {
        const x = document.getElementById("wingdings");
        x.style.display = "block";
        clearTimeout(timeoutId);
        timeoutId = setTimeout(function() {
            x.style.display = "none";
        }, 5000);
    } 

    function spawnFeather() {
        const feather = document.createElement('img');
        feather.src = 'media/images/feather.png';
        feather.className = 'falling-feather';
        feather.style.left = Math.random() * (window.innerWidth - window.innerWidth * 0.1) + 'px';
        feather.style.top = '-10vh';
        feather.style.opacity = (0.7 + Math.random() * 0.3).toString();
        const initialRotation = Math.random() * 360;
        feather.dataset.initialRotation = initialRotation;
        document.body.appendChild(feather);

        const fallDuration = 1200 + Math.random() * 700;
        const drift = (Math.random() - 0.5) * window.innerWidth * 0.1;
        const spinSpeed = (Math.random() - 0.5) * 60;

        let start = null;
        function animateFeather(ts) {
            if (!start) start = ts;
            const elapsed = ts - start;
            const progress = elapsed / fallDuration;
            if (progress < 1) {
                feather.style.top = (progress * (window.innerHeight + window.innerHeight * 0.1) - window.innerHeight * 0.1) + 'px';
                feather.style.left = `calc(${feather.style.left} + ${drift * progress}px)`;
                const rotation = initialRotation + spinSpeed * (elapsed / 1000);
                feather.style.transform = `rotate(${rotation}deg)`;
                requestAnimationFrame(animateFeather);
            } else {
                feather.remove();
            }
        }
        requestAnimationFrame(animateFeather);
    }

    setInterval(() => {
        for (let i = 0; i < 2; i++) spawnFeather();
    }, 550);

    function spawnHeart() {
        const heart = document.createElement('img');
        heart.src = 'media/images/heart.png';
        heart.className = 'rising-heart';
        heart.style.left = Math.random() * (window.innerWidth - window.innerWidth * 0.08) + 'px';
        heart.style.bottom = '-10vh';
        heart.style.opacity = (0.7 + Math.random() * 0.3).toString();
        const initialRotation = Math.random() * 360;
        heart.dataset.initialRotation = initialRotation;
        document.body.appendChild(heart);

        const riseDuration = 1400 + Math.random() * 900;
        const drift = (Math.random() - 0.5) * window.innerWidth * 0.08;
        const spinSpeed = (Math.random() - 0.5) * 80;

        let start = null;
        function animateHeart(ts) {
            if (!start) start = ts;
            const elapsed = ts - start;
            const progress = elapsed / riseDuration;
            if (progress < 1) {
                heart.style.bottom = (progress * (window.innerHeight + window.innerHeight * 0.1) - window.innerHeight * 0.1) + 'px';
                heart.style.left = `calc(${heart.style.left} + ${drift * progress}px)`;
                const rotation = initialRotation + spinSpeed * (elapsed / 1000);
                heart.style.transform = `rotate(${rotation}deg)`;
                requestAnimationFrame(animateHeart);
            } else {
                heart.remove();
            }
        }
        requestAnimationFrame(animateHeart);
    }

    setInterval(() => {
        for (let i = 0; i < 2; i++) spawnHeart();
    }, 700);

    const kerdlyImages = [
        'media/images/kerdly/1.gif',
        'media/images/kerdly/2.png',
        'media/images/kerdly/3.png',
        'media/images/kerdly/4.png',
        'media/images/kerdly/5.gif',
        'media/images/kerdly/6.gif',
        'media/images/kerdly/7.gif',
        'media/images/kerdly/8.gif',
        'media/images/kerdly/9.webp',
        'media/images/kerdly/10.gif',
        'media/images/kerdly/11.png'
    ];
    let bgIndex = 0;
    function setNextBackground() {
        document.body.style.backgroundImage = `url('${kerdlyImages[bgIndex]}')`;
        bgIndex = (bgIndex + 1) % kerdlyImages.length;
    }
    if (kerdlyImages.length > 0) {
        setNextBackground();
        setInterval(setNextBackground, 5000);
    }
    setInterval(function() {
        if (Math.floor(Math.random() * 10) + 1 === 6) {
            Gaster();
        }
    }, 5000);

    // Load links.txt and open a random link in a new window every 5 seconds
    let kerdlyLinks = [];
    fetch('links.txt')
        .then(res => res.text())
        .then(text => {
            kerdlyLinks = text.split('\n').map(l => l.trim()).filter(l => l.length > 0);

            function openRandomLinkWindow() {
                if (kerdlyLinks.length > 0) {
                    const idx = Math.floor(Math.random() * kerdlyLinks.length);
                    window.open(
                        kerdlyLinks[idx],
                        '_blank',
                        'width=800,height=600,left=100,top=100,resizable=yes,scrollbars=yes'
                    );
                }
                const nextDelay = 1000 + Math.random() * 6000; // 1-3 seconds
                setTimeout(openRandomLinkWindow, nextDelay);
            }
            openRandomLinkWindow();
        });
    </script>
</body>
</html>
